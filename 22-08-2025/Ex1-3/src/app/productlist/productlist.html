<div class="product-list">
  <h2>Product List</h2>
  <button style="margin-right: 10px;"(click)="addProduct()">Add Product</button>
  <button style="margin-right: 10px;"(click)="goToPurchase()">Purchase Product</button>
  <button style="margin-right: 10px;"(click)="goToOrderHistory()">Order History</button>

  @if (isLoading) {
    <div class="loading">Loading products...</div>
  } @else if (errorMessage) {
    <div class="error">
      <p>{{ errorMessage }}</p>
      <button (click)="loadProducts()">Try Again</button>
    </div>
  } @else if (products.length === 0) {
    <p>No products found. Click "Add Product" to create one.</p>
  } @else {
    @for (product of products; track product.id) {
      <div class="product-card">
        <div class="product-info">
          <h3 class="product-name">{{ product.name }}</h3>
          <p class="product-category">Category: {{ product.category }}</p>
          <p class="product-price">Price: ${{ product.price }}</p>
          <p class="product-quantity">Quantity: {{ product.quantity }}</p>
        </div>
        <div class="product-actions">
          <a [routerLink]="['/productedit', product.id]">Edit</a>
          <button (click)="deleteProduct(product.id!)">Delete</button>
        </div>
      </div>
    }
  }
</div>